{"version":3,"sources":["/tools/packaging/catalog/catalog-utils.js"],"names":["exports","splitReleaseName","releaseName","parts","split","track","version","length","catalog","require","DEFAULT_TRACK","slice","join","displayRelease","options","prefix","noPrefix","explainIfRefreshFailed","Console","official","offline","refreshFailed","info"],"mappings":"AAAAA,QAAQC,gBAAR,GAA2B,UAAUC,WAAV,EAAuB;AAChD,MAAIC,QAAQD,YAAYE,KAAZ,CAAkB,GAAlB,CAAZ;AACA,MAAIC,KAAJ,EAAWC,OAAX;AACA,MAAIH,MAAMI,MAAN,KAAiB,CAArB,EAAwB;AACtB,QAAIC,UAAUC,QAAQ,cAAR,CAAd;AACAJ,YAAQG,QAAQE,aAAhB;AACAJ,cAAUH,MAAM,CAAN,CAAV;AACD,GAJD,MAIO;AACLE,YAAQF,MAAM,CAAN,CAAR;AACA;AACA;AACAG,cAAUH,MAAMQ,KAAN,CAAY,CAAZ,EAAeC,IAAf,CAAoB,GAApB,CAAV;AACD;AACD,SAAO,CAACP,KAAD,EAAQC,OAAR,CAAP;AACD,CAdD;;AAgBA;AACAN,QAAQa,cAAR,GAAyB,UAAUR,KAAV,EAAiBC,OAAjB,EAA0BQ,OAA1B,EAAmC;AAC1D,MAAIN,UAAUC,QAAQ,cAAR,CAAd;AACAK,YAAUA,WAAW,EAArB;AACA,MAAIC,SAASD,QAAQE,QAAR,GAAmB,EAAnB,GAAwB,SAArC;;AAEA,MAAIX,UAAUG,QAAQE,aAAtB,EAAqC;AACnC,WAAOK,SAAST,OAAhB;AACD,GAFD,MAEO;AACL,WAAOD,QAAQ,GAAR,GAAcC,OAArB;AACD;AACF,CAVD;;AAYA;AACA;AACAN,QAAQiB,sBAAR,GAAiC,YAAY;AAC3C,MAAIC,UAAUT,QAAQ,0BAAR,EAAoCS,OAAlD;AACA,MAAIV,UAAUC,QAAQ,cAAR,CAAd;AACA,MAAID,QAAQW,QAAR,CAAiBC,OAAjB,IAA4BZ,QAAQa,aAAxC,EAAuD;AACrDH,YAAQI,IAAR,CAAa,+CACX,+CADF;AAED;AACF,CAPD","file":"tools/packaging/catalog/catalog-utils.js.map","sourcesContent":["exports.splitReleaseName = function (releaseName) {\n  var parts = releaseName.split('@');\n  var track, version;\n  if (parts.length === 1) {\n    var catalog = require('./catalog.js');\n    track = catalog.DEFAULT_TRACK;\n    version = parts[0];\n  } else {\n    track = parts[0];\n    // Do we forbid '@' sign in release versions? I sure hope so, but let's\n    // be careful.\n    version = parts.slice(1).join(\"@\");\n  }\n  return [track, version];\n};\n\n// Options: noPrefix: do not display 'Meteor ' in front of the version number.\nexports.displayRelease = function (track, version, options) {\n  var catalog = require('./catalog.js');\n  options = options || {};\n  var prefix = options.noPrefix ? \"\" : \"Meteor \";\n\n  if (track === catalog.DEFAULT_TRACK) {\n    return prefix + version;\n  } else {\n    return track + '@' + version;\n  }\n};\n\n// If we have failed to update the catalog, informs the user and advises them to\n// go online for up to date inforation.\nexports.explainIfRefreshFailed = function () {\n  var Console = require('../../console/console.js').Console;\n  var catalog = require('./catalog.js');\n  if (catalog.official.offline || catalog.refreshFailed) {\n    Console.info(\"Your package catalog may be out of date.\\n\" +\n      \"Please connect to the internet and try again.\");\n  }\n};\n"]}